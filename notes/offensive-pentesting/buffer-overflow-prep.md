# Buffer Overflow Prep

### oscp.exe - OVERFLOW1

Fuzz the server until it crashes then note the byte value. Use the metasploit tool 
pattern_create.rb to create a cyclic pattern 400 bytes longer than the value that crashed 
the server (2400).

`/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 2400`

Copy the output and place it in the payload variable in exploit.py.

Run oscp.exe in Immunity Debugger and run exploit.py then, when the server has crashed, run 
`!mona findmsp -distance 2400` to find the EIP offset.

badchars: `\x00\x07\x08\x2e\x2f\xa0\xa1`

[Fuzzing script](./fuzzing.py)
[Exploit script](./exploit.py)

**Finding bad chars**

Create a bytearray with mona `!mona bytearray -b "\x00"` 
*Note: -b is deprecated and was replaced by -cpb*

Use python to generate a string of bad chars identical to the bytearray

```
for x in range(1, 256):
  print("\\x" + "{:02x}".format(x), end='')
print()
```

625011AF
